(()=>{"use strict";var e={752:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const s=i(231),n=i(226),l=i(925),a=i(917);t.App=class{static instance;appElement=document.getElementById("app");constructor(){const e=l.ServiceManager.get(n.AudioUIService),t=(l.ServiceManager.get(s.AudioService),l.ServiceManager.get(a.StorageService));e.addFileInput.onchange=i=>{const s=e.addFileInput.files;s&&s.length>0&&t.readTextFile(s[0])},this.appElement.append(e.header,e.playlistContainer)}static get Instance(){return this.instance||(this.instance=this.createInstance())}static createInstance(){return new this}}},142:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerContainer=void 0;const s=i(723);t.AudioPlayerContainer=class{playlistId;videoId;element;controls;leftContent;rightContent;constructor(e,t){this.playlistId=e,this.videoId=t,this.element=document.createElement("div"),this.element.id=`${e}-${t}-container`,this.element.className="player-container",this.controls=new s.AudioPlayerControls(e,t);const i=document.createElement("div");i.id=`${e}-${t}`,i.style.display="none",this.rightContent=document.createElement("div"),this.rightContent.className="right-content",this.leftContent=document.createElement("div"),this.leftContent.className="left-content",this.element.append(this.leftContent,this.rightContent,i)}createPlayerCard(e){const t=this.controls.playButton;t.element.style.backgroundImage=`url(${e.items[0].snippet.thumbnails.default.url})`,t.element.style.backgroundSize="cover";const i=document.createElement("p");i.innerText=e.items[0].snippet.title,i.className="player-title",this.leftContent.append(t.element,i)}createControls(){this.leftContent.prepend(this.controls.moveUpButton?.element,this.controls.moveDownButton?.element),this.rightContent.append(this.controls.volumeSlider?.element,this.controls.restartButton?.element,this.controls.loopButton?.element,this.controls.fadeButton?.element,this.controls.deleteButton?.element),this.controls.disable()}enableControls(){this.controls.enable()}resetControls(){this.controls.reset()}}},723:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerControls=void 0;const s=i(472),n=i(553),l=i(426),a=i(117),o=i(667),r=i(876),d=i(85),u=i(836),p=i(203);class c extends s.Controls{playlistId;videoId;volumeSlider;playButton;restartButton;loopButton;fadeButton;moveDownButton;moveUpButton;deleteButton;constructor(e,t){super(),this.playlistId=e,this.videoId=t,this.playButton=new d.PlayButton(this.playlistId,this.videoId),this.volumeSlider=new p.VolumeSlider(this.playlistId,this.videoId),this.fadeButton=new l.FadeButton(this.playlistId,this.videoId),this.loopButton=new a.LoopButton(this.playlistId,this.videoId),this.restartButton=new u.RestartButton(this.playlistId,this.videoId),this.moveDownButton=new o.MoveDownButton(this.playlistId,this.videoId),this.moveUpButton=new r.MoveUpButton(this.playlistId,this.videoId),this.deleteButton=new n.DeletePlayerButton(this.playlistId,this.videoId),this.register(this.playButton,!0,!0,!0),this.register(this.volumeSlider,!0,!0,!0),this.register(this.fadeButton,!0,!0,!0),this.register(this.loopButton,!0,!0,!0),this.register(this.restartButton,!0,!0,!1),this.register(this.moveDownButton,!1,!1,!0),this.register(this.moveUpButton,!1,!1,!0),this.register(this.deleteButton,!0,!0,!1)}}t.AudioPlayerControls=c},92:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayer=void 0;const l=i(929),a=i(695),o=i(925),r=i(917),d=i(142);let u=class{playlistId;videoId;container;player;isLoaded=!1;storageService=o.ServiceManager.get(r.StorageService);constructor(e,t){this.playlistId=e,this.videoId=t,this.container=new d.AudioPlayerContainer(e,t),this.container.createControls()}createPlayer(){return this.player=new YT.Player(`${this.playlistId}-${this.videoId}`,{playerVars:{playlist:this.videoId},events:{onReady:e=>{this.storageService.loadMetadata(this.videoId).then((e=>{this.container.enableControls(),this.isLoaded||this.container.createPlayerCard(e),this.isLoaded=!0}))},onStateChange:e=>{e.data===YT.PlayerState.ENDED?e.target.stopVideo()&&this.container.controls.playButton?.pause():e.data===YT.PlayerState.PAUSED?this.container.controls.playButton?.pause():e.data===YT.PlayerState.PLAYING&&this.container.controls.playButton?.play()}}}),this.player}isPlaying(){return this.player?.getPlayerState()===YT.PlayerState.PLAYING}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}onPlay(){this.player?.playVideo()}onPause(){this.player?.pauseVideo()}onVolumeChange(e){this.player?.setVolume(e.volume)}onLoop(e){this.player?.setLoop(e.isLooping)}onFadeInStart(){this.player?.setVolume(0),this.player?.playVideo()}onFadeOutEnd(){this.player?.pauseVideo()}onRestart(){this.player?.seekTo(0,!0)}onMoveDown(){this.container.resetControls()}onMoveUp(){this.container.resetControls()}};t.AudioPlayer=u,s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.Play),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onPlay",null),s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.Pause),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onPause",null),s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.VolumeChange),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],u.prototype,"onVolumeChange",null),s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.Loop),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],u.prototype,"onLoop",null),s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.FadeInStart),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onFadeInStart",null),s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.FadeOutEnd),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onFadeOutEnd",null),s([(0,l.RegisterPlayerDelegate)(a.AudioEvent.Restart),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onRestart",null),s([(0,l.RegisterPlaylistDelegate)(a.AudioEvent.MoveDown),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onMoveDown",null),s([(0,l.RegisterPlaylistDelegate)(a.AudioEvent.MoveUp),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],u.prototype,"onMoveUp",null),t.AudioPlayer=u=s([(0,l.SubscribeDelegates)(),n("design:paramtypes",[String,String])],u)},553:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeletePlayerButton=void 0;const s=i(695),n=i(516),l=i(489);class a extends l.Button{playlistId;videoId;constructor(e,t){super("delete",(()=>{n.PlaylistEventHandler.emit(s.AudioEvent.DeletePlayer,{playlistId:this.playlistId,videoId:this.videoId})}),"danger"),this.playlistId=e,this.videoId=t}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}}t.DeletePlayerButton=a},426:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FadeButton=void 0;const l=i(489),a=i(929),o=i(695),r=i(903);let d=class extends l.Button{playlistId;videoId;isFadingIn=!1;isFadingOut=!1;volumeSliderVolume=100;constructor(e,t){super("play_circle",(()=>{"play_circle"===this.element.innerText?(this.fadeInStart(),this.fadeIn(0)):(this.fadeOutStart(),this.fadeOut(this.volumeSliderVolume))})),this.playlistId=e,this.videoId=t}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}onPlay(){this.element.innerText="pause_circle"}onPause(){this.element.innerText="play_circle"}onPlayToggle(e){this.element.innerText=e.isPlaying?"pause_circle":"play_circle",this.isFadingIn=!1,this.isFadingOut=!1}onVolumeChange(e){this.volumeSliderVolume=e.volume}fadeOutStart(){this.element.innerText="pause_circle",this.isFadingIn=!1,this.isFadingOut=!0,r.PlayerEventHandler.emit(o.AudioEvent.FadeOutStart,{playlistId:this.playlistId,videoId:this.videoId})}fadeInStart(){this.element.innerText="play_circle",this.isFadingOut=!1,this.isFadingIn=!0,r.PlayerEventHandler.emit(o.AudioEvent.FadeInStart,{playlistId:this.playlistId,videoId:this.videoId})}fadeOut(e){this.isFadingOut&&0!==e?(this.isFadingIn=!1,e-=1,r.PlayerEventHandler.emit(o.AudioEvent.FadeOut,{playlistId:this.playlistId,videoId:this.videoId,volume:e}),setTimeout((()=>this.fadeOut(e)),50)):r.PlayerEventHandler.emit(o.AudioEvent.FadeOutEnd,{playlistId:this.playlistId,videoId:this.videoId})}fadeIn(e){this.isFadingIn&&100!==e?(this.isFadingOut=!1,e+=1,r.PlayerEventHandler.emit(o.AudioEvent.FadeIn,{playlistId:this.playlistId,videoId:this.videoId,volume:e}),setTimeout((()=>this.fadeIn(e)),50)):r.PlayerEventHandler.emit(o.AudioEvent.FadeInEnd,{playlistId:this.playlistId,videoId:this.videoId})}};t.FadeButton=d,s([(0,a.RegisterPlayerDelegate)(o.AudioEvent.Play),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],d.prototype,"onPlay",null),s([(0,a.RegisterPlayerDelegate)(o.AudioEvent.Pause),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],d.prototype,"onPause",null),s([(0,a.RegisterPlayerDelegate)(o.AudioEvent.PlayToggle),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onPlayToggle",null),s([(0,a.RegisterPlayerDelegate)(o.AudioEvent.VolumeChange),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onVolumeChange",null),t.FadeButton=d=s([(0,a.SubscribeDelegates)(),n("design:paramtypes",[String,String])],d)},117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoopButton=void 0;const s=i(695),n=i(903),l=i(489);class a extends l.Button{playlistId;videoId;constructor(e,t){super("loop",(()=>{const e="1"===this.element.getAttribute(s.AudioEvent.Loop);this.toggle(e)})),this.playlistId=e,this.videoId=t}toggle(e){e?this.loopOff():this.loopOn()}loopOn(){this.element.className="material-icons enabled",this.element.setAttribute(s.AudioEvent.Loop,"1"),n.PlayerEventHandler.emit(s.AudioEvent.Loop,{playlistId:this.playlistId,videoId:this.videoId,isLooping:!0})}loopOff(){this.element.className="material-icons",this.element.setAttribute(s.AudioEvent.Loop,"0"),n.PlayerEventHandler.emit(s.AudioEvent.Loop,{playlistId:this.playlistId,videoId:this.videoId,isLooping:!1})}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}}t.LoopButton=a},667:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MoveDownButton=void 0;const l=i(489),a=i(929),o=i(695),r=i(516);let d=class extends l.Button{playlistId;videoId;constructor(e,t){super("arrow_downward",(()=>{this.isDisabled||r.PlaylistEventHandler.emit(o.AudioEvent.MoveDown,{playlistId:e,videoId:t})})),this.playlistId=e,this.videoId=t}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}onMove(e){e.playersList.findIndex((e=>e===this.videoId))===e.playersList.length-1?this.disable():this.enable()}};t.MoveDownButton=d,s([(0,a.RegisterPlaylistDelegate)(o.AudioEvent.Move),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onMove",null),t.MoveDownButton=d=s([(0,a.SubscribeDelegates)(),n("design:paramtypes",[String,String])],d)},876:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MoveUpButton=void 0;const l=i(489),a=i(929),o=i(695),r=i(516);let d=class extends l.Button{playlistId;videoId;constructor(e,t){super("arrow_upward",(()=>{this.isDisabled||r.PlaylistEventHandler.emit(o.AudioEvent.MoveUp,{playlistId:this.playlistId,videoId:this.videoId})})),this.playlistId=e,this.videoId=t}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}onMove(e){e.playlistId===this.playlistId&&(0===e.playersList.findIndex((e=>e===this.videoId))?this.disable():this.enable())}};t.MoveUpButton=d,s([(0,a.RegisterPlaylistDelegate)(o.AudioEvent.Move),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onMove",null),t.MoveUpButton=d=s([(0,a.SubscribeDelegates)(),n("design:paramtypes",[String,String])],d)},85:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlayButton=void 0;const s=i(695),n=i(903),l=i(489);class a extends l.Button{playlistId;videoId;constructor(e,t,i){super("play_arrow",(()=>{this.toggle()}),i),this.playlistId=e,this.videoId=t}toggle(){"play_arrow"===this.element.innerText?this.play():this.pause(),n.PlayerEventHandler.emit(s.AudioEvent.PlayToggle,{playlistId:this.playlistId,videoId:this.videoId})}play(){this.element.innerText="pause",n.PlayerEventHandler.emit(s.AudioEvent.Play,{playlistId:this.playlistId,videoId:this.videoId,isPlaying:!0})}pause(){this.element.innerText="play_arrow",n.PlayerEventHandler.emit(s.AudioEvent.Pause,{playlistId:this.playlistId,videoId:this.videoId,isPlaying:!1})}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}}t.PlayButton=a},836:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RestartButton=void 0;const s=i(695),n=i(903),l=i(489);class a extends l.Button{playlistId;videoId;constructor(e,t){super("restart_alt",(()=>{n.PlayerEventHandler.emit(s.AudioEvent.Restart,{playlistId:this.playlistId,videoId:this.videoId})})),this.playlistId=e,this.videoId=t}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}}t.RestartButton=a},203:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeSlider=void 0;const l=i(133),a=i(929),o=i(695),r=i(903);let d=class extends l.Slider{playlistId;videoId;set value(e){this.element.value=e.toString(),r.PlayerEventHandler.emit(o.AudioEvent.VolumeChange,{playlistId:this.playlistId,videoId:this.videoId,volume:e})}constructor(e,t){super({onInput:()=>{this.value=Number(this.element.value)}}),this.playlistId=e,this.videoId=t,r.PlayerEventHandler.emit(o.AudioEvent.VolumeChange,{playlistId:this.playlistId,videoId:this.videoId,volume:Number(this.element.value)})}getVideoId(){return this.videoId}getPlaylistId(){return this.playlistId}onFadeIn(e){this.value=e.volume}onFadeOut(e){this.value=e.volume}};t.VolumeSlider=d,s([(0,a.RegisterPlayerDelegate)(o.AudioEvent.FadeIn),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onFadeIn",null),s([(0,a.RegisterPlayerDelegate)(o.AudioEvent.FadeOut),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onFadeOut",null),t.VolumeSlider=d=s([(0,a.SubscribeDelegates)(),n("design:paramtypes",[String,String])],d)},489:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0,t.Button=class{icon;element;isDisabled=!1;className;constructor(e,t,i){this.icon=e,this.className=i?`material-icons ${i}`:"material-icons",this.element=document.createElement("button"),this.element.className=this.className,this.element.innerText=this.icon,this.element.onclick=t}click(){this.element.click()}reset(){this.element.className=this.className,this.element.innerText=this.icon}enable(){this.isDisabled=!1,this.element.disabled=!1}disable(){this.isDisabled=!0,this.element.disabled=!0}}},472:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Controls=void 0,t.Controls=class{controls=[];onEnable=[];onDisable=[];onReset=[];disable(){this.onDisable.forEach((e=>e.disable()))}enable(){this.onEnable.forEach((e=>e.enable()))}reset(){this.onReset.forEach((e=>e.reset()))}register(e,t,i,s){this.controls.push(e),t&&this.onDisable.push(e),i&&this.onEnable.push(e),s&&this.onReset.push(e)}}},724:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,t.Input=class{element;buttonElement;inputElement;constructor(e,t,i,s){this.buttonElement=document.createElement("button"),this.buttonElement.innerText=e,this.buttonElement.className=i?`material-icons ${e} ${i}`:`material-icons ${e}`,this.buttonElement.onclick=()=>{t(this.inputElement.value)},this.inputElement=document.createElement("input"),this.inputElement.type="text",this.inputElement.className=s?`input ${s}`:"input",this.inputElement.oninput=()=>{this.buttonElement.disabled=!this.canSubmit()},this.element=document.createElement("div"),this.element.className="input-form-container",this.element.append(this.inputElement,this.buttonElement),this.buttonElement.disabled=!0,this.inputElement.addEventListener("keyup",(e=>{"Enter"===e.key&&this.canSubmit()&&(this.buttonElement.click(),this.inputElement.blur())}))}reset(){this.inputElement.value="",this.buttonElement.disabled=!0}enable(){this.inputElement.disabled=!1,this.buttonElement.disabled=!1}disable(){this.inputElement.disabled=!0,this.buttonElement.disabled=!0}canSubmit(){return this.inputElement.value.length>0}setInput(e){this.inputElement.value=e,this.buttonElement.disabled=!this.canSubmit()}}},133:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0,t.Slider=class{config;element;get value(){return Number(this.element.value)}constructor(e){this.config=e,this.element=document.createElement("input"),this.element.type=this.config.type??"range",this.element.min=this.config.min??"0",this.element.max=this.config.max??"100",this.element.step=this.config.step??"1",this.element.value=this.config.value??"100",this.element.oninput=this.config.onInput}reset(){this.element.value=this.config.value??"100"}enable(){this.element.disabled=!1}disable(){this.element.disabled=!0}}},992:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddPlaylistButton=void 0;const s=i(695),n=i(746),l=i(489);class a extends l.Button{constructor(){super("playlist_add",(()=>{n.EventHandler.emit(s.AudioEvent.AddPlaylist,{})}))}}t.AddPlaylistButton=a},728:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApiKeyInput=void 0;const s=i(724),n=i(695),l=i(746);class a extends s.Input{constructor(){super("key",(()=>{l.EventHandler.emit(n.AudioEvent.ApiKeyInput,{apiKey:this.inputElement.value})}))}}t.ApiKeyInput=a},832:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClearButton=void 0;const s=i(695),n=i(746),l=i(489);class a extends l.Button{constructor(){super("delete",(()=>{n.EventHandler.emit(s.AudioEvent.Clear,{})}),"danger")}}t.ClearButton=a},893:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadFileButton=void 0;const s=i(489),n=i(695),l=i(746);class a extends s.Button{constructor(){super("download",(()=>{l.EventHandler.emit(n.AudioEvent.DownloadFile,{})}))}}t.DownloadFileButton=a},765:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddPlayerInput=void 0;const s=i(695),n=i(516),l=i(724);class a extends l.Input{playlistId;constructor(e){super("add",(()=>{n.PlaylistEventHandler.emit(s.AudioEvent.AddPlayer,{playlistId:this.playlistId,videoId:this.inputElement.value}),this.reset()})),this.playlistId=e}getPlaylistId(){return this.playlistId}}t.AddPlayerInput=a},717:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeletePlaylistButton=void 0;const s=i(695),n=i(746),l=i(489);class a extends l.Button{playlistId;constructor(e){super("delete",(()=>{n.EventHandler.emit(s.AudioEvent.DeletePlaylist,{playlistId:this.playlistId})}),"danger"),this.playlistId=e}}t.DeletePlaylistButton=a},526:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FadeInPlaylistButton=void 0;const s=i(489),n=i(695),l=i(516);class a extends s.Button{playlistId;constructor(e){super("play_circle",(()=>{this.isDisabled||l.PlaylistEventHandler.emit(n.AudioEvent.FadeInPlaylist,{playlistId:this.playlistId})})),this.playlistId=e}getPlaylistId(){return this.playlistId}}t.FadeInPlaylistButton=a},239:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FadeOutPlaylistButton=void 0;const s=i(489),n=i(695),l=i(516);class a extends s.Button{playlistId;constructor(e){super("pause_circle",(()=>{this.isDisabled||l.PlaylistEventHandler.emit(n.AudioEvent.FadeOutPlaylist,{playlistId:this.playlistId})})),this.playlistId=e}getPlaylistId(){return this.playlistId}}t.FadeOutPlaylistButton=a},62:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenamePlaylistInput=void 0;const s=i(695),n=i(516),l=i(724);class a extends l.Input{playlistId;constructor(e){super("edit",(()=>{n.PlaylistEventHandler.emit(s.AudioEvent.RenamePlaylist,{playlistId:this.playlistId,name:this.inputElement.value})}),"hide","playlist-title"),this.playlistId=e,this.inputElement.addEventListener("blur",(()=>{this.buttonElement.classList.add("hide")})),this.inputElement.addEventListener("focus",(()=>{this.buttonElement.classList.remove("hide")}))}getPlaylistId(){return this.playlistId}}t.RenamePlaylistInput=a},651:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistContainer=void 0;const s=i(620);t.PlaylistContainer=class{playlistId;name;element;controls;headerElement;titleElement;leftContent;rightContent;playlistContent;constructor(e,t){this.playlistId=e,this.name=t,this.name=t,this.element=document.createElement("div"),this.element.id=`playlist-${this.playlistId}`,this.element.className="playlist",this.controls=new s.PlaylistControls(this.playlistId),this.titleElement=document.createElement("h2"),this.titleElement.textContent=this.name,this.leftContent=document.createElement("div"),this.leftContent.className="left-content",this.controls.renamePlaylist.setInput(this.name),this.leftContent.append(this.controls.renamePlaylist.element),this.rightContent=document.createElement("div"),this.rightContent.className="right-content",this.rightContent.append(this.controls.addPlayer.element),this.rightContent.append(this.controls.fadeInPlaylist.element),this.rightContent.append(this.controls.fadeOutPlaylist.element),this.rightContent.append(this.controls.deletePlaylist.element),this.headerElement=document.createElement("div"),this.headerElement.className="playlist-header",this.headerElement.append(this.leftContent,this.rightContent),this.playlistContent=document.createElement("div"),this.playlistContent.className="playlist-content",this.element.append(this.headerElement),this.element.appendChild(this.playlistContent)}setName(e){this.name=e,this.titleElement.textContent=this.name}addPlayer(e){this.playlistContent.appendChild(e.container.element)}removePlayer(e){this.playlistContent.removeChild(e.container.element)}moveUpPlayer(e,t){this.playlistContent.insertBefore(e.container.element,this.playlistContent.children[t-1])}moveDownPlayer(e,t){this.playlistContent.insertBefore(e.container.element,this.playlistContent.children[t+1].nextSibling)}}},620:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistControls=void 0;const s=i(472),n=i(765),l=i(717),a=i(526),o=i(239),r=i(62);class d extends s.Controls{playlistId;renamePlaylist;addPlayer;deletePlaylist;fadeInPlaylist;fadeOutPlaylist;constructor(e){super(),this.playlistId=e,this.renamePlaylist=new r.RenamePlaylistInput(this.playlistId),this.addPlayer=new n.AddPlayerInput(this.playlistId),this.fadeInPlaylist=new a.FadeInPlaylistButton(this.playlistId),this.fadeOutPlaylist=new o.FadeOutPlaylistButton(this.playlistId),this.deletePlaylist=new l.DeletePlaylistButton(this.playlistId),this.register(this.renamePlaylist,!0,!0,!1),this.register(this.addPlayer,!0,!0,!1),this.register(this.fadeInPlaylist,!0,!0,!1),this.register(this.fadeOutPlaylist,!0,!0,!1),this.register(this.deletePlaylist,!0,!0,!1)}}t.PlaylistControls=d},756:function(e,t,i){var s,n=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Playlist=void 0;const a=i(92),o=i(929),r=i(695),d=i(746),u=i(516),p=i(651);let c=class{static{s=this}container;id;players=new Map;playersList=[];static playlistCount=0;get name(){return this.container.name}constructor(e){this.id="playlist-"+s.playlistCount++,this.container=new p.PlaylistContainer(this.id,e||"New Playlist")}onAddPlayer(e){const t=e.videoId;if(this.players.has(t))return;const i=new a.AudioPlayer(this.id,t);this.container.addPlayer(i),i.createPlayer(),this.players.set(t,i),this.playersList.push(t),u.PlaylistEventHandler.emit(r.AudioEvent.Move,{playlistId:this.id,playersList:this.playersList})}onDeletePlayer(e){const t=e.videoId;if(!this.players.has(t))return;const i=this.players.get(t);i&&this.container.removePlayer(i),this.players.delete(t),this.playersList.splice(this.playersList.indexOf(t),1),u.PlaylistEventHandler.emit(r.AudioEvent.Move,{playlistId:this.id,playersList:this.playersList})}onMoveUp(e){const t=this.playersList.indexOf(e.videoId);if(0===t)return;const i=this.players.get(e.videoId);i&&this.container.moveUpPlayer(i,t),this.playersList.splice(t-1,0,this.playersList.splice(t,1)[0]),u.PlaylistEventHandler.emit(r.AudioEvent.Move,{playlistId:this.id,playersList:this.playersList})}onMoveDown(e){const t=this.playersList.indexOf(e.videoId);if(t===this.playersList.length-1)return;const i=this.players.get(e.videoId);i&&this.container.moveDownPlayer(i,t),this.playersList.splice(t+1,0,this.playersList.splice(t,1)[0]),u.PlaylistEventHandler.emit(r.AudioEvent.Move,{playlistId:this.id,playersList:this.playersList})}onFadeIn(){this.players.forEach((e=>{e.isPlaying()||e.container.controls.fadeButton?.click()}))}onFadeOut(){this.players.forEach((e=>{e.isPlaying()&&e.container.controls.fadeButton?.click()}))}onRename(e){this.container.setName(e.name),d.EventHandler.emit(r.AudioEvent.Save,{})}onMove(){d.EventHandler.emit(r.AudioEvent.Save,{})}getPlaylistId(){return this.id}setName(e){this.container.setName(e)}clearPlayers(){this.players.forEach((e=>{this.container.removePlayer(e)})),this.players.clear(),this.playersList=[],u.PlaylistEventHandler.emit(r.AudioEvent.Move,{playlistId:this.id,playersList:this.playersList})}getPlayers(){return this.playersList}};t.Playlist=c,n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.AddPlayer),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],c.prototype,"onAddPlayer",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.DeletePlayer),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],c.prototype,"onDeletePlayer",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.MoveUp),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],c.prototype,"onMoveUp",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.MoveDown),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],c.prototype,"onMoveDown",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.FadeInPlaylist),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"onFadeIn",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.FadeOutPlaylist),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"onFadeOut",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.RenamePlaylist),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],c.prototype,"onRename",null),n([(0,o.RegisterPlaylistDelegate)(r.AudioEvent.Move),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"onMove",null),t.Playlist=c=s=n([(0,o.SubscribeDelegates)(),l("design:paramtypes",[String])],c)},231:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioService=void 0;const l=i(756),a=i(226),o=i(929),r=i(695),d=i(746),u=i(516),p=i(925),c=i(917);let y=class{playlists=new Map;audioUIService=p.ServiceManager.get(a.AudioUIService);storageService=p.ServiceManager.get(c.StorageService);constructor(){window.onYouTubeIframeAPIReady=()=>{this.storageService.loadApiKey().then((()=>{this.storageService.loadFromPersistentStorage()})).catch((e=>{console.error("Error loading the YouTube API",e)}))}}onLoadPlayers(){this.storageService.loadFromPersistentStorage()}onDeletePlaylist(e){const t=e.playlistId,i=this.playlists.get(t);i&&(this.playlists.delete(t),i?.container.element.remove(),this.storageService.saveToPersistentStorage(this.playlists))}onSave(){this.storageService.saveToPersistentStorage(this.playlists)}onAddPlaylist(e){const t=new l.Playlist(e.name);this.audioUIService.playlistContainer.appendChild(t.container.element),this.playlists.set(t.id,t),e.playersList?.forEach((e=>{u.PlaylistEventHandler.emit(r.AudioEvent.AddPlayer,{playlistId:t.id,videoId:e})}))}onClear(){this.playlists.forEach((e=>{d.EventHandler.emit(r.AudioEvent.DeletePlaylist,{playlistId:e.id})}))}onDownload(){this.storageService.saveTextFile(this.playlists)}renamePlaylist(e,t){this.playlists.get(e)?.setName(t)}};t.AudioService=y,s([(0,o.RegisterDelegate)(r.AudioEvent.LoadPlayers),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],y.prototype,"onLoadPlayers",null),s([(0,o.RegisterDelegate)(r.AudioEvent.DeletePlaylist),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],y.prototype,"onDeletePlaylist",null),s([(0,o.RegisterDelegate)(r.AudioEvent.Save),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],y.prototype,"onSave",null),s([(0,o.RegisterDelegate)(r.AudioEvent.AddPlaylist),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],y.prototype,"onAddPlaylist",null),s([(0,o.RegisterDelegate)(r.AudioEvent.Clear),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],y.prototype,"onClear",null),s([(0,o.RegisterDelegate)(r.AudioEvent.DownloadFile),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],y.prototype,"onDownload",null),t.AudioService=y=s([(0,p.RegisterService)(),(0,o.SubscribeDelegates)(),n("design:paramtypes",[])],y)},226:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioUIService=void 0;const l=i(992),a=i(728),o=i(832),r=i(893),d=i(925);let u=class{playlistContainer;header;addFileInput;downloadFileButton;clearButton;addPlaylistButton;apiKeyInput;constructor(){this.playlistContainer=document.createElement("div"),this.header=document.createElement("div"),this.addFileInput=document.createElement("input"),this.downloadFileButton=new r.DownloadFileButton,this.clearButton=new o.ClearButton,this.addPlaylistButton=new l.AddPlaylistButton,this.apiKeyInput=new a.ApiKeyInput,this.addFileInput.id="file-input",this.addFileInput.type="file",this.addFileInput.accept=".json",this.addFileInput.className="file-input";const e=document.createElement("label");e.htmlFor="file-input",e.className="file-input-label material-icons",e.innerText="upload",this.header.id="header",this.header.className="header",this.header.append(e,this.downloadFileButton.element,this.addFileInput,this.addPlaylistButton.element,this.clearButton.element,this.apiKeyInput.inputElement,this.apiKeyInput.buttonElement),this.playlistContainer.id="playlist-container",this.playlistContainer.className="playlist-container"}};t.AudioUIService=u,t.AudioUIService=u=s([(0,d.RegisterService)(),n("design:paramtypes",[])],u)},929:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterDelegate=t.RegisterPlayerDelegate=t.RegisterPlaylistDelegate=t.SubscribeDelegates=void 0;const s=i(746),n=i(903),l=i(516);t.SubscribeDelegates=function(){return function(e){return class extends e{constructor(...e){super(...e);const t=this;t.subscribePlaylist&&t.subscribePlaylist.forEach((e=>{l.PlaylistEventHandler.subscribe(t.getPlaylistId(),e.event,(t=>this[e.propertyKey](t)))}));const i=this;i.subscribePlayer&&i.subscribePlayer.forEach((e=>{n.PlayerEventHandler.subscribe(i.getPlaylistId(),i.getVideoId(),e.event,(t=>this[e.propertyKey](t)))})),this.subscribeGlobal&&this.subscribeGlobal.forEach((e=>{s.EventHandler.subscribe(e.event,(t=>this[e.propertyKey](t)))}))}}}},t.RegisterPlaylistDelegate=function(e){return(t,i,s)=>{t.subscribePlaylist=t.subscribePlaylist||[],t.subscribePlaylist.push({event:e,propertyKey:i})}},t.RegisterPlayerDelegate=function(e){return(t,i,s)=>{t.subscribePlayer=t.subscribePlayer||[],t.subscribePlayer.push({event:e,propertyKey:i})}},t.RegisterDelegate=function(e){return(t,i,s)=>{t.subscribeGlobal=t.subscribeGlobal||[],t.subscribeGlobal.push({event:e,propertyKey:i})}}},695:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioEvent=void 0,function(e){e.Audio="audio",e.Play="play",e.Pause="pause",e.PlayToggle="play-toggle",e.VolumeChange="volume-change",e.FadeInStart="fade-in-start",e.FadeIn="fade-in",e.FadeInEnd="fade-in-end",e.FadeOutStart="fade-out-start",e.FadeOut="fade-out",e.FadeOutEnd="fade-out-end",e.Loop="loop",e.Restart="restart",e.Move="move",e.MoveUp="move-up",e.MoveDown="move-down",e.DeletePlayer="delete-player",e.DeletePlaylist="delete-playlist",e.RenamePlaylist="rename-playlist",e.AddPlaylist="add-playlist",e.AddPlayer="add-player",e.Save="save",e.Clear="clear",e.FadeInPlaylist="fade-in-playlist",e.FadeOutPlaylist="fade-out-playlist",e.DownloadFile="download-file",e.UploadFile="upload-file",e.ApiKeyInput="api-key",e.LoadPlayers="load-players"}(i||(t.AudioEvent=i={}))},746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=void 0;class i{static events=new Map;static subscribe(e,t){this.events.has(e)||this.events.set(e,[]);const i=this.events.get(e);i&&i.push(t)}static unsubscribe(e,t){const i=this.events.get(e);if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}static emit(e,t){const i=this.events.get(e);i&&i.forEach((e=>e(t)))}}t.EventHandler=i},903:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerEventHandler=void 0;class i{static events=new Map;static subscribe(e,t,i,s){let n=this.events.get(i);n||(n=new Map,this.events.set(i,n));let l=n.get(e);l||(l=new Map,n.set(e,l));let a=l.get(t);a||(a=[],l.set(t,a)),a.push(s)}static unsubscribe(e,t,i,s){const n=this.events.get(i);if(!n)return;const l=n.get(e);if(!l)return;const a=l.get(t);if(!a)return;const o=a.indexOf(s);-1!==o&&a.splice(o,1)}static emit(e,t){const i=this.events.get(e);if(!i)return;const s=i.get(t.playlistId);if(!s)return;const n=s.get(t.videoId);n&&n.forEach((e=>e(t)))}}t.PlayerEventHandler=i},516:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistEventHandler=void 0;class i{static events=new Map;static subscribe(e,t,i){let s=this.events.get(t);s||(s=new Map,this.events.set(t,s));let n=s.get(e);n||(n=[],s.set(e,n)),n.push(i)}static unsubscribe(e,t,i){const s=this.events.get(t);if(!s)return;const n=s.get(e);if(!n)return;const l=n.indexOf(i);-1!==l&&n.splice(l,1)}static emit(e,t){const i=this.events.get(e);if(!i)return;const s=i.get(t.playlistId);s&&s.forEach((e=>e(t)))}}t.PlaylistEventHandler=i},925:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterService=t.ServiceManager=void 0;class i{static services=new Map;static register(e){this.services.has(e)||this.services.set(e,new e)}static get(e){const t=this.services.get(e);if(!t)throw new Error("Service not registered");return t}}t.ServiceManager=i,t.RegisterService=function(){return e=>{i.register(e)}}},917:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var n,l=arguments.length,a=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(l<3?n(a):l>3?n(t,i,a):n(t,i))||a);return l>3&&a&&Object.defineProperty(t,i,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageService=void 0;const l=i(929),a=i(695),o=i(746),r=i(925);let d=class{youtubeApiKey="";onApiKeyInput(e){this.youtubeApiKey=e.apiKey,this.verifyApiKey(this.youtubeApiKey).then((e=>{e&&o.EventHandler.emit(a.AudioEvent.LoadPlayers,{})}))}readTextFile(e){const t=new FileReader;t.onload=e=>{try{const t=JSON.parse(e.target.result);this.youtubeApiKey=t.apiKey,this.verifyApiKey(this.youtubeApiKey).then((e=>{e&&(o.EventHandler.emit(a.AudioEvent.Clear,{}),t.playlists.forEach((e=>{o.EventHandler.emit(a.AudioEvent.AddPlaylist,{name:e.name,playersList:e.players})})))}))}catch(e){console.error("Error parsing the configuration file",e)}},t.onerror=e=>{console.error("Error reading the file",t.error)},t.readAsText(e)}saveTextFile(e){const t={apiKey:this.youtubeApiKey,playlists:[]};e.forEach((e=>{t.playlists.push({name:e.name,players:e.getPlayers()})}));const i=JSON.stringify(t,null,2),s=new Blob([i],{type:"text/plain"}),n=URL.createObjectURL(s),l=document.createElement("a");l.href=n,l.download="playlists.json",l.click()}saveToPersistentStorage(e){const t=[];e.forEach((e=>{t.push({name:e.name,players:e.getPlayers()})})),localStorage.setItem("playlists",JSON.stringify(t)),localStorage.setItem("apiKey",this.youtubeApiKey)}loadFromPersistentStorage(){const e=JSON.parse(localStorage.getItem("playlists")||"[]");o.EventHandler.emit(a.AudioEvent.Clear,{}),e.forEach((e=>{o.EventHandler.emit(a.AudioEvent.AddPlaylist,{name:e.name,playersList:e.players})}))}async verifyApiKey(e){try{return 200===(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=YouTube+Data+API&type=video&key=${e}`)).status}catch(e){return console.error(e),!1}}async loadMetadata(e){try{return(await fetch(`https://www.googleapis.com/youtube/v3/videos?id=${e}&key=${this.youtubeApiKey}&part=snippet`)).json()}catch(e){return console.log(e)}}async loadApiKey(){return this.youtubeApiKey=localStorage.getItem("apiKey")||"",await this.verifyApiKey(this.youtubeApiKey)?Promise.resolve():Promise.reject("Invalid API key")}};t.StorageService=d,s([(0,l.RegisterDelegate)(a.AudioEvent.ApiKeyInput),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],d.prototype,"onApiKeyInput",null),t.StorageService=d=s([(0,r.RegisterService)(),(0,l.SubscribeDelegates)()],d)}},t={};(function i(s){var n=t[s];if(void 0!==n)return n.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,i),l.exports})(752).App.Instance,console.log("App started!")})();